<!DOCTYPE HTML>
<html>
<head>
	<meta charset='UTF-8'>
<title>Getting Started with Spyral Notebooks</title>
<meta name="title" content="<h1>Getting Started with Spyral Notebooks</h1>"><meta name="author" content="Stéfan Sinclair & Geoffrey Rockwell"><meta name="keywords" content="alta"><meta name="modified" content="2019-07-04T19:52:31.079Z"><meta name="created" content="2019-06-26T19:52:01.795Z"><meta name="language" content="English"><meta name="license" content="Creative Commons Attribution (CC BY)"><meta name="version" content="0.1"><style id="ace-chrome">.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}
/*# sourceURL=ace/css/ace-chrome */</style>
<style id="voyant-notebooks-styles">
	body.exported-notebook {
		font-family: helvetica, arial, verdana, sans-serif;
		font-size: 13px;
		font-weight: 300;
		line-height: 17px;
		-webkit-font-smoothing: antialiased
	}
	body.exported-notebook .notebook-code-editor {
		font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;
		font-size: 12px;
		font-weight: normal;
		line-height: normal;
		white-space: pre;
	}
	.notebook-text-editor, .notebook-code-editor, .notebook-code-results {
		padding: 6px;
		margin: 6px;
	}
	.notebook-text-wrapper .x-panel-body {
	   border: thin solid rgba(0,0,0,0) !important;
	}
	.notebook-code-wrapper .x-panel-body {
	   border: thin solid rgba(0,0,0,0) !important;
	}
	.x-panel .notebook-editor-wrapper-hover.x-panel-body, .editable {
		border: thin dashed rgba(0,0,0,.2) !important;
	}
	.notebook-code-editor, .notebook-code-results {
		margin-left: 2em;
	}
	.notebook-code-editor {
		border-left: thin solid rgb(240, 240, 240);
	}
	.notebook-code-results {
		background-color: rgb(252, 252, 252);
		border: thin solid rgb(240, 240, 240);
	}
	.notebook-code-results .error {
		color: red;
	}
	.notebook-code-results pre {
		font-size: smaller;
	}	
	.notebook-code-results .info {
		overflow: scroll
	}
	.notebook-code-editor-raw { /* used for raw code in saved view */
		display: none;
	}
	.cke_button__sourcedialog_label {
	    display: none !important;
	}
	.exported-notebook .notebookwrappercounter {
		float: right;
	}
	.exported-notebook .notebookwrappercounter a {
		text-decoration: none;
	}
	
	.notebookwrappercounter a {
		-webkit-border-radius: 3px;
		-moz-border-radius: 3px;
		border-radius: 3px;
		background-color: #f5f5f5;
	    text-align: right;
	    border: thin solid #d8d8d8;
	    padding: 1px;
	    margin: 1px;
	    font-size: smaller;
	}
	
	table.spyral-table {
	    border: thin solid #ccc;
	}

	table.spyral-table th {
	    background-color: rgba(255, 255, 0, .05);
	}

	table.spyral-table td, table.spyral-table th {
	    border-right: thin solid #eee; border-bottom: thin solid #eee;
	}
	table.spyral-table td:last-child {
	    border-right: none; border-bottom: none;
	}
	
	.spyral-header, .spyral-footer {
		text-align: center;
	}
	
	.spyral-footer {
		margin-top: 1em;
		background-color: rgba(0,0,0,.01);
		border-top: rgba(0,0,0,.05);
	}
</style>
<script> // this script checks to see if embedded tools seem to be available
window.addEventListener('load', function() {
var hostnames = {}, warned = false;
document.querySelectorAll('iframe').forEach(function(iframeEl) {
let url = new URL(iframeEl.src);
if (!(url.hostname in hostnames) && !warned) {
hostnames[url.hostname] = true; // mark as fetched
fetch(url).catch(response => {
warned = true;
alert('This notebook seems to contain one ore more tools that may not be able to load. Possible reasons include a server no longer being accessible (especially if the notebook was generated from a local server), or because of security restrictions.'+url)
})
}
})
})
</script>
</head>
<body class='exported-notebook'><header class='spyral-header'><h1>Getting Started with Spyral Notebooks</h1></header>
<article class='spyralArticle'><section id='xgyopc67wfs6k4du' class='notebook-editor-wrapper notebooktexteditorwrapper'>
<div class='notebookwrappercounter'><a name="xgyopc67wfs6k4du" href="#xgyopc67wfs6k4du" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">1</a></div><div class='notebook-text-editor'><p>This notebook will help you get started with Spyral Notebooks (it's part of the <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="alta" href="alta" tabindex="-1" target="_blank">Art of Literary Text Analysis with Spiral&nbsp;Notebooks</a>). In particular, we'll look at:</p><ul><li><a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="#setup" href="#setup" tabindex="-1">getting setup</a></li><li><a data-cke-saved-href="#metadata" target="_blank" href="#metadata" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="3">metadata</a></li><li><a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="#text" href="#text" tabindex="-1">rich-text blocks</a> (like this one)</li><li><a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="#code" href="#code" tabindex="-1">code blocks</a></li><li><a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="#blocks" href="#blocks" tabindex="-1">managing blocks</a></li><li><a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="#save" href="#save" tabindex="-1">saving and exporting a notebook</a></li><li><a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="#new" href="#new" tabindex="-1">creating a new notebook</a></li><li><a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="#peek" href="#peek" tabindex="-1">a sneak peek at working with Spyral</a></li><li><a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="#next" href="#next" tabindex="-1">next steps</a></li><li><a data-cke-saved-href="#promises" target="_blank" href="#promises" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="3">promises</a></li></ul></div>
</section>
<section id='bghn7vgpvv6axavb' class='notebook-editor-wrapper notebooktexteditorwrapper'>
<div class='notebookwrappercounter'><a name="bghn7vgpvv6axavb" href="#bghn7vgpvv6axavb" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">2</a></div><div class='notebook-text-editor'><h2><img class="cke_anchor" data-cke-realelement="%3Ca%20id%3D%22setup%22%20data-cke-saved-name%3D%22setup%22%20name%3D%22setup%22%3E%3C%2Fa%3E" data-cke-real-node-type="1" alt="Ancre" title="Ancre" align="" data-cke-saved-src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" data-cke-real-element-type="anchor">Getting Setup</h2><p>The good news is that Spyral Notebooks doesn't require any setup. If you're viewing this page then you're already using a fully functional version of&nbsp;Spyral Notebooks.</p><p>Having said that, it may be preferable to run a local installation of Spyral Notebooks, for any number of reasons including privacy, performance and reliability. If your&nbsp;Spyral Notebook is doing some heavy lifting, or if you're just starting to experiment and might send your browser or Spyral&nbsp;into an endless loop, it's best to work in a sandbox on your own machine. Fear not, running Spyral Notebooks is usually quick and painless:</p><ul><li>download the <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="https://github.com/sgsinclair/VoyantServer/releases/latest" href="https://github.com/sgsinclair/VoyantServer/releases/latest" tabindex="-1">latest release of VoyantServer</a>&nbsp;(select the VoyantServer&nbsp;zip file under <em>downloads</em>),&nbsp;extract the contents of the zip file into your choice of directory</li><li>in the new folder (with extracted contents)&nbsp;click on VoyantServer.jar to launch</li><li>with default settings a new browser will appear with the URL http://localhost:8888, change it to&nbsp;<a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="http://localhost:8888/spyral/alta/" href="http://localhost:8888/spyral/alta/" tabindex="-1" target="_blank">http://localhost:8888/spyral/alta/</a>&nbsp;instead and press enter (that URL will only work if you've launched VoyantServer locally)</li></ul><p>That's it!</p><p>Spyral is composed of two main types of editing blocks, <strong>rich-text</strong> and <strong>code</strong> blocks. We will consider each one below, but first we'll look at a notebook's <strong>metadata</strong>.</p></div>
</section>
<section id='x5ykbbdg4wxc92oh' class='notebook-editor-wrapper notebooktexteditorwrapper'>
<div class='notebookwrappercounter'><a name="x5ykbbdg4wxc92oh" href="#x5ykbbdg4wxc92oh" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">3</a></div><div class='notebook-text-editor'><h2><img class="cke_anchor" data-cke-realelement="%3Ca%20data-cke-saved-name%3D%22metadata%22%20name%3D%22metadata%22%3E%3C%2Fa%3E" data-cke-real-node-type="1" alt="Anchor" title="Anchor" align="" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" data-cke-real-element-type="anchor">Metadata</h2><p>Every Spyral notebook has associated metadata, some of which is displayed on the page. You can modify the metdata of a notebook by clicking on the top title or by clicking on the label icon that appears in the top grey header bar. The metadata fields that can be edited are</p><ul><li><strong>title</strong>: the document's title which appears at the top of the page</li><li><strong>author</strong>: the document's author(s) which appear at the bottom of the page</li><li><strong>keywords</strong>: the document's keywords separated by commas</li><li><strong>description</strong>: a short summary or abstract for the notebook</li><li><strong>license</strong>: the document's copyright license which appears at the bottom of the page</li><li><strong>language</strong>: the document's language</li></ul><p>The creation date and modification dates are also stored and usually appear at the bottom of the page.</p></div>
</section>
<section id='yidfgiwdjkbklkfx' class='notebook-editor-wrapper notebooktexteditorwrapper'>
<div class='notebookwrappercounter'><a name="yidfgiwdjkbklkfx" href="#yidfgiwdjkbklkfx" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">4</a></div><div class='notebook-text-editor'><h2><img class="cke_anchor" data-cke-realelement="%3Ca%20data-cke-saved-name%3D%22text%22%20name%3D%22text%22%3E%3C%2Fa%3E" data-cke-real-node-type="1" alt="Ancre" title="Ancre" align="" data-cke-saved-src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" data-cke-real-element-type="anchor">Rich Text Blocks</h2><p>Although code blocks are where you can make things happen, the rich text blocks are crucial because that's where you can explain what's happening and why. This is a key concept of <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="https://en.wikipedia.org/wiki/Literate_programming" href="https://en.wikipedia.org/wiki/Literate_programming" tabindex="-1">literate programming</a> where you can interweave narrative text and functional code (and in the case of Spyral Notebooks, interactive output).</p><p>Rich text blocks are essentially <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="https://en.wikipedia.org/wiki/WYSIWYG" href="https://en.wikipedia.org/wiki/WYSIWYG" tabindex="-1">WYSIWYG </a>HTML and you shouldn't need to&nbsp;master any markup or coding languages, just use the toolbar that appears when you start editing. You can do this now, in this block, just click here and the editing toolbar should appear. You can make content or styling edits to this text (don't be shy, you can edit with impunity!).</p><p>Most editing capabilities are fairly standard and we won't go into them here, but there are some&nbsp;noteworthy details:</p><ul><li>for now the image button assumes that your image is available from a URL, though that will change when Spiral&nbsp;has proper account management</li><li>an iframe editing button is included to make it easier (no need for code blocks!) to incorporate content from Voyant Tools or other sites (such as YouTube).</li><li>if the simple set of editing tools is insufficient, you can always select the source code view and make any tweaks necessary</li><li>links are handled specially: if you click on one while not editing (no toolbar visible) then the link should open normally; otherwise it's editable text</li></ul><p>There's nothing to run or specially render in a rich text box, when you're done editing you can click elsewhere on the page to create or edit another block, export, etc. You can also click on the X icon in the editing toolbar that appears when in editing mode.</p></div>
</section>
<section id='4x85xhp944eqh4pz' class='notebook-editor-wrapper notebooktexteditorwrapper'>
<div class='notebookwrappercounter'><a name="4x85xhp944eqh4pz" href="#4x85xhp944eqh4pz" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">5</a></div><div class='notebook-text-editor'><h2><img class="cke_anchor" data-cke-realelement="%3Ca%20data-cke-saved-name%3D%22code%22%20name%3D%22code%22%3E%3C%2Fa%3E" data-cke-real-node-type="1" alt="Ancre" title="Ancre" align="" data-cke-saved-src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" data-cke-real-element-type="anchor">Code Blocks</h2><p>The other kind of building block in&nbsp;Spiral Notebooks is a code block, which is essentially a special editor for <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="https://en.wikipedia.org/wiki/JavaScript" href="https://en.wikipedia.org/wiki/JavaScript" tabindex="-1">Javascript </a>code that includes several helpful libraries (extra functions) for doing text analysis and visualization. We'll explore the extra functionality in much more detail in subsequent notebooks of <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="../alta/" href="../alta/" tabindex="-1" target="_blank">this guide</a>, but for now we can experiment with some basic mechanics of the editor and output.</p><p>Start by clicking in the editor box below to put it in editing mode. Among other things a&nbsp;run&nbsp;(or play) icon should appear in the left column (below the plus icon) that allows you to run the code. Try changing <em>Hello </em>to <em>Hi </em>and then run the code block (by clicking on the run/play icon). As you can see, the value of the code block (in this case the string "Hello world!"&nbsp;appears as output. This is the first important aspect of Spyral coding: output appears according to what is evaluated in the code blocks.</p></div>
</section>
<section id='90gyl560vi8aongn' class='notebook-editor-wrapper notebookcodeeditorwrapper'>
<div class='notebookwrappercounter'><a name="90gyl560vi8aongn" href="#90gyl560vi8aongn" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">6</a></div><div class='notebook-code-editor ace-chrome'>
<div class="ace_layer ace_text-layer" style="padding: 0px 4px;"><div class="ace_line" style="height:16px"><span class="ace_string">"Hello world!"</span><span class="ace_punctuation ace_operator">;</span></div></div>
</div>
<pre class='notebook-code-editor-raw editor-mode-javascript'>
"Hello world!";</pre>
<div class='notebook-code-results'>
<div style='height: 31px'> <div class="info">Hello world!</div></div>
</div>
</section>
<section id='4n37c84g15cazjys' class='notebook-editor-wrapper notebooktexteditorwrapper'>
<div class='notebookwrappercounter'><a name="4n37c84g15cazjys" href="#4n37c84g15cazjys" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">7</a></div><div class='notebook-text-editor'><p><img alt="Text Toolbar" data-cke-saved-src="../../resources/spyral/notebooks/alta-assets/code-syntax-helper.png" src="../../resources/spyral/notebooks/alta-assets/code-syntax-helper.png" style="float: right; width: 600px; height: 75px;"></p><p>The code&nbsp;editor does some syntax checking as you type, so, for instance, if you remove one of the double quotes&nbsp;from "Hello World! you should see an <span style="font-family: mono; border: thin solid #999; color:#FFFFFF;"><span style="background-color:#FF0000;">x</span></span> appear in the margin and you can hover over the icon for more information. Restore the double quote and then click somewhere on the word show to position the cursor there. Now press Ctrl-Space and you should see some documentation appear to help you with the current or similar functions (from both Spyral and Javascript more generally). Documentation should also appear as you're tying, so, if on a new line in the same code editor you type (not copy and paste)&nbsp;the following, documentation should appear when you press the dot after Math (<a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random" tabindex="-1">Math.random()</a> generates a floating point number between 0 and 1):</p><blockquote><p><code>Math.random();</code></p></blockquote><p>If Javascript is new to you, don't worry too much for now about the syntax, we'll introduce concepts as we go along.</p><h3>Data Block<br></h3><p>A code block can also be used to edit other kinds of data, such as plain text, HTML, XML and JSON. This make code blocks a convenient way of creating data sets that can be referenced in other code blocks. We'll see examples of this later in the guide.</p></div>
</section>
<section id='5wnvuwvtkg20njr4' class='notebook-editor-wrapper notebooktexteditorwrapper'>
<div class='notebookwrappercounter'><a name="5wnvuwvtkg20njr4" href="#5wnvuwvtkg20njr4" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">8</a></div><div class='notebook-text-editor'><h2><a id="blocks" name="blocks"></a>Managing&nbsp;Blocks</h2>

<p>We've already seen the run button from code blocks, but both text and code blocks have some additional functionality, available in the left and right column gutters of the editor:</p>

<ul>
	<li><strong>add </strong>a new block below the current one (text and code blocks will alternate, you can press the shift key while clicking add to get a new block of the same kind)</li>
	<li><strong>remove </strong>the current block and delete its contents (you will be prompted to confirm you really wish to do this)</li>
	<li><strong>move up</strong> the current block (if it's not already first)</li>
	<li><strong>move down</strong> the current block (if it's not already last)</li>
</ul>

<p>You can try this buttons now. If you remove a block that you didn't mean to remove on this page, you can always reload the page to see it restored.</p>

<p>It's not possible to convert a text block to a code block, or vice-versa, but you can always create new blocks and move content between blocks, as needed.</p>
</div>
</section>
<section id='0me4vq2ir9gz3zz4' class='notebook-editor-wrapper notebooktexteditorwrapper'>
<div class='notebookwrappercounter'><a name="0me4vq2ir9gz3zz4" href="#0me4vq2ir9gz3zz4" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">9</a></div><div class='notebook-text-editor'><h2 id="ext-element-21"><img class="cke_anchor" data-cke-realelement="%3Ca%20id%3D%22save%22%20data-cke-saved-name%3D%22save%22%20name%3D%22save%22%3E%3C%2Fa%3E" data-cke-real-node-type="1" alt="Ancre" title="Ancre" align="" data-cke-saved-src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" data-cke-real-element-type="anchor">Saving &amp; Exporting a Notebook</h2><p>Please note: the current preview version of Spyral Notebooks is experimenting with different mechanisms for storing notebooks and things may change. For now it should be possible to make and edit and then press the cloud/save icon in the upper right-hand part of the header.</p><p>You can also export an HTML view of a notebook that's a static view of a Notebook, this is usually more suitable for printing as well. To export as HTML click on the export icon in the upper-right-hand part of the header, the box with the diagonal arrow. Expand the "Export View" menu,&nbsp;select HTML, and then click the Export button. Note: this will only work if you allow popup windows from the current page/server.</p><p>You can also select the "Download" version from the Export dialog box, this saves a copy of the Notebook to your file system (the file can be opened and viewed in a browser without Voyant/Spyral running – this is one of the major advantages of working in Spyral.</p><p><strong>Step 1)&nbsp;Export HTML</strong>: as with exporting HTML above, click on the export button icon that appears in the top right part of the grey Spyral Notebook title bar when you're hoving over it. Then select <em>Spyral Notebook&nbsp;data format (JSON)</em> and click the "Export" button. This will produce a dialog box and a text area. Select the contents of the text area (Command/Control-A) and copy it to the clipboard (Command/Control-C).</p><p><strong>Step 2)&nbsp;Create Gist</strong>: <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="https://gist.github.com/" href="https://gist.github.com/" tabindex="-1">Gist </a>is a service run by <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="https://github.com/" href="https://github.com/" tabindex="-1">GitHub </a>that allows you to instantly share code and snippets. You can save gists into your GitHub account if you have one and are logged in, but you can also create gists anonymously (without creating an account). To create a new gist, go to <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="https://gist.github.com/" href="https://gist.github.com/" tabindex="-1">gist.github.com</a>&nbsp;and paste (Command/Control-V) into the larger box&nbsp;the exported JSON code from S<em>tep 1</em>. Give your gist a filename with the extension&nbsp;.json (like SpiralNotebook1.json) and add a description if you wish (this is optional). Click the "Create Public gist" button below the editor (the private gist won't work for our purposes). Finally,&nbsp;copy the browser's URL into the clipboard (the URL is actually not the raw JSON data, but a Spyral Notebook&nbsp;handles it properly).</p><p><strong>Step 3) Open Gist</strong>: to reopen your Notebook using data from the gist, click the open icon that appears in the right part of&nbsp;the&nbsp;grey Spyral Notebook toolbar. A dialog window will appear with a box where you can paste the URL you copied at the end of <em>Step 2</em>. Click the <em>Open </em>button, and that's it!</p><p>Please note:</p><ul><li>you can easily edit a gist that you've created if you're logged into GitHub - an updated gist should have the same URL as before (but you can also&nbsp;&nbsp;get URLs for previous revisions)</li><li>you can't edit an anonymous gist (one created without at GitHub account), but you can create a new anonymous gist (you can create a free GitHub account if you prefer)</li><li>instead of creating a gist,&nbsp;you can save the exported HTML from <em>Step 1</em> into a local file or editor and paste in the HTML contents in the dialog box from <em>Step 3</em>.</li></ul></div>
</section>
<section id='3vh691jj7ztlp0q1' class='notebook-editor-wrapper notebooktexteditorwrapper'>
<div class='notebookwrappercounter'><a name="3vh691jj7ztlp0q1" href="#3vh691jj7ztlp0q1" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">10</a></div><div class='notebook-text-editor'><h2><a id="new" name="new"></a>Creating a New Notebook</h2>

<p>Creating a new Spiral Notebook is very simple: when you hover over the top grey title bar (the one that says "Spyral Notebook" on the left and has a help icon on the right), you'll see a plus icon; click on it and a new window should appear with a Spyral Notebook template (if popup windows are blocked you may need to click on a link in a dialog window first).</p>
</div>
</section>
<section id='zh9es7i98274seoz' class='notebook-editor-wrapper notebooktexteditorwrapper'>
<div class='notebookwrappercounter'><a name="zh9es7i98274seoz" href="#zh9es7i98274seoz" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">11</a></div><div class='notebook-text-editor'><h2><img class="cke_anchor" data-cke-realelement="%3Ca%20id%3D%22peek%22%20data-cke-saved-name%3D%22peek%22%20name%3D%22peek%22%3E%3C%2Fa%3E" data-cke-real-node-type="1" alt="Ancre" title="Ancre" align="" data-cke-saved-src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" data-cke-real-element-type="anchor">Sneak Peek at Working with Spyral</h2><p><a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="../alta/" href="../alta/" tabindex="-1" target="_blank"><img alt="" data-cke-saved-src="../resources/spyral/alta-assets/new_corpus.png" src="../resources/spyral/alta-assets/new_corpus.png" style="float: right; width: 500px; height: 203px;">This guide</a> will progressively introduce new concepts and techniques for&nbsp;working with Spiral, but for the impatient, here's a quick example. We create a new Corpus from a URL (<a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="http://hermeneuti.ca" href="http://hermeneuti.ca" tabindex="-1">hermeneuti.ca</a>). The newly created <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="../docs/#!/api/Corpus" href="../docs/#!/api/Corpus" tabindex="-1" target="_blank">corpus </a>has an <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="../docs/#!/api/Corpus-method-embed" href="../docs/#!/api/Corpus-method-embed" tabindex="-1" target="_blank">embed method</a> that we can use to display one of several tools, in this case we've selected <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="../docs/#!/guide/cirrus" href="../docs/#!/guide/cirrus" tabindex="-1" target="_blank">Cirrus </a>(a kind of word cloud). If you're interested, go ahead an modify the arguments (the parts between quotes), providing your own URL or a valid tool type for <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="../docs/#!/api/Corpus-method-embed" href="../docs/#!/api/Corpus-method-embed" tabindex="-1" target="_blank">embedding the corpus</a>.</p><p>As with elsewhere in this guide, we won't necessarily explain the coding in detail, we take a pragmatic approach to leaning Javascript and Spyral syntax: we learn what's needed to do what want next. Exactly how or why things work that way may not always be fully explained, though in general we'll provide ample documentation. For the code snippet below, for instance, we're using <a data-tabindex-counter="17" data-tabindex-value="none" data-cke-saved-href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" tabindex="-1" target="_blank">objects</a>, <a data-tabindex-counter="17" data-tabindex-value="none" data-cke-saved-href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments" tabindex="-1" target="_blank">arguments</a>, and <a data-tabindex-counter="17" data-tabindex-value="none" data-cke-saved-href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" tabindex="-1" target="_blank">functions</a> in the specific context of a <a data-tabindex-counter="17" data-tabindex-value="none" data-cke-saved-href="../docs/#!/api/Corpus" href="../docs/#!/api/Corpus" tabindex="-1" target="_blank">Corpus</a> which can <a data-tabindex-counter="17" data-tabindex-value="none" data-cke-saved-href="../docs/#!/api/Corpus-method-embed" href="../docs/#!/api/Corpus-method-embed" tabindex="-1" target="_blank">embed</a> a <a data-tabindex-counter="17" data-tabindex-value="none" data-cke-saved-href="../docs/#!/guide/cirrus" href="../docs/#!/guide/cirrus" tabindex="-1" target="_blank">Cirrus</a> tool.</p><div style="clear: both;"><br></div></div>
</section>
<section id='n7v2a28qh1psv6va' class='notebook-editor-wrapper notebookcodeeditorwrapper'>
<div class='notebookwrappercounter'><a name="n7v2a28qh1psv6va" href="#n7v2a28qh1psv6va" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">12</a></div><div class='notebook-code-editor ace-chrome'>
<div class="ace_layer ace_text-layer" style="padding: 0px 4px;"><div class="ace_line" style="height:16px"><span class="ace_identifier">loadCorpus</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">"http://hermeneuti.ca"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">tool</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">"cirrus"</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">;</span></div></div>
</div>
<pre class='notebook-code-editor-raw editor-mode-javascript'>
loadCorpus("http://hermeneuti.ca").tool("cirrus");</pre>
<div class='notebook-code-results'>
<div style='height: 418px'> <div class="info"><iframe style="width: 90%; height: 400px;" src="https://voyant-tools.org/tool/cirrus/?corpus=2821fe410914bbb369b50af75a5099da" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1"></iframe></div></div>
</div>
</section>
<section id='gdwpm8x4g9aemrbd' class='notebook-editor-wrapper notebooktexteditorwrapper'>
<div class='notebookwrappercounter'><a name="gdwpm8x4g9aemrbd" href="#gdwpm8x4g9aemrbd" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">13</a></div><div class='notebook-text-editor'><h2><img class="cke_anchor" data-cke-realelement="%3Ca%20data-cke-saved-name%3D%22promises%22%20name%3D%22promises%22%3E%3C%2Fa%3E" data-cke-real-node-type="1" alt="Anchor" title="Anchor" align="" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" data-cke-real-element-type="anchor">Promises</h2><p>There's a crucial concept in working with Spyral code: several functions involve calls to the server that return data eventually, but not immediately. This is call asynchronous behaviour and Javascript has a mechanism called Promises that allow us to control the flow of code, to execute code once data is returned from the server. The loadCorpus function actually returns a promise, so the code above should normally be written as something like this:</p><pre>loadCorpus("http://hermeneuti.ca").then(corpus =&gt; corpus.tool("cirrus"))<br><span style="color:#888888;">----------------------------------      ------    ---------------------<br>&nbsp;         promise                      argument      return expression<br>&nbsp;                                      ---------------------------------<br>&nbsp;                                                 function</span><br></pre><p>The general form is <code>[promise].then([function])</code> where <code>function</code> is called once the promise is fulfilled. The syntax above is a newer form of Javascript, the form below is functionally identical and&nbsp;might be more recongnizable for some:</p><pre>loadCorpus("http://hermeneuti.ca").then(function(corpus) {return corpus.tool("cirrus")})<br><span style="color:#555555;"></span><span style="color:#888888;">----------------------------------               ------   -----------------------------<br>&nbsp;        promise                                argument         return expression<br>                                      &nbsp; -----------------------------------------------<br>                                                        &nbsp; functio</span><span style="color:#555555;">n</span><br></pre><p>To make life easier most of the methods from the Corpus class are specially created to allow them to be called without the promise syntax (though internally the same thing is happening). However, the methods of Corpus also usually return promises and if further treatment is needed, the promise syntax is required. Below is an example of showing the top 10 terms in a document.</p></div>
</section>
<section id='lj5i6pp6229cq4th' class='notebook-editor-wrapper notebookcodeeditorwrapper'>
<div class='notebookwrappercounter'><a name="lj5i6pp6229cq4th" href="#lj5i6pp6229cq4th" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">14</a></div><div class='notebook-code-editor ace-chrome'>
<div class="ace_layer ace_text-layer" style="padding: 0px 4px;"><div class="ace_line" style="height:16px"><span class="ace_identifier">loadCorpus</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">"austen"</span><span class="ace_paren ace_rparen">)</span> <span class="ace_comment">// load Austen corpus</span></div><div class="ace_line" style="height:16px">    <span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">terms</span><span class="ace_paren ace_lparen">({</span><span class="ace_identifier">limit</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">25</span><span class="ace_punctuation ace_operator">,</span> <span class="ace_identifier">stopList</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string">'auto'</span><span class="ace_paren ace_rparen">})</span> <span class="ace_comment">// load top 25 terms (each term is an object with several properties)</span></div><div class="ace_line" style="height:16px">    <span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">then</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">terms</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_identifier">terms</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">map</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">term</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_identifier">term</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">term</span><span class="ace_paren ace_rparen">)</span><span class="ace_punctuation ace_operator">.</span><span class="ace_support ace_function">join</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">", "</span><span class="ace_paren ace_rparen">))</span> <span class="ace_comment">// show only term (word)</span></div></div>
</div>
<pre class='notebook-code-editor-raw editor-mode-javascript'>
loadCorpus("austen") // load Austen corpus
    .terms({limit: 25, stopList: 'auto'}) // load top 25 terms (each term is an object with several properties)
    .then(terms => terms.map(term => term.term).join(", ")) // show only term (word)</pre>
<div class='notebook-code-results'>
<div style='height: 31px'> <div class="info">mr, mrs, said, miss, think, know, good, time, little, soon, say, great, lady, dear, shall, sir, quite, man, thought, fanny, make, day, room, young, emma</div></div>
</div>
</section>
<section id='8z19x6i7l181zfpf' class='notebook-editor-wrapper notebooktexteditorwrapper'>
<div class='notebookwrappercounter'><a name="8z19x6i7l181zfpf" href="#8z19x6i7l181zfpf" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="1">15</a></div><div class='notebook-text-editor'><h2><img class="cke_anchor" data-cke-realelement="%3Ca%20id%3D%22next%22%20data-cke-saved-name%3D%22next%22%20name%3D%22next%22%3E%3C%2Fa%3E" data-cke-real-node-type="1" alt="Ancre" title="Ancre" align="" data-cke-saved-src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" data-cke-real-element-type="anchor">Next Steps</h2><p>Here are some exercises to try, based on the contents of this notebook:</p><ul><li>create a new notebook</li><li>try to create two text blocks in a row</li><li>create a new code block and experiment with loading a different URL than the one we used (hermeneuti.ca)</li><li>try experimenting with a couple of the other tools that are available (see the list from the <a data-cke-saved-href="../../docs/#!/api/Spyral.Corpus#tool" target="_blank" href="../../docs/#!/api/Spyral.Corpus#tool" data-tabindex-value="none" tabindex="-1" data-tabindex-counter="2">tool</a> function).</li><li>create a code block and try to embed a Cirrus word cloud with the URL from the previous step</li><li>export the notebook as HTML data and create a new Gist</li><li>re-open your notebook using the&nbsp;Gist URL that you just created</li></ul><p>If you're working sequentially&nbsp;through the <a data-tabindex-counter="24" data-tabindex-value="none" data-cke-saved-href="../alta/" href="../alta/" tabindex="-1" target="_blank">Art of Literary Text Analysis with Spyral&nbsp;Notebooks</a>, the next notebook&nbsp;is <a data-tabindex-counter="21" data-tabindex-value="none" data-cke-saved-href="../alta-create/" href="../alta-create/" tabindex="-1" target="_blank">Creating a Corpus</a>.</p></div>
</section>
</article>
<footer class='spyral-footer'>&copy; Stéfan Sinclair & Geoffrey Rockwell (Creative Commons Attribution (CC BY)). Created June 26, 2019.Modified July 4, 2019.</footer></body>
</html>